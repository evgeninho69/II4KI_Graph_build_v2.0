# refactor-prompts.md

1. **Prompt:** Удалить устаревшие импорты (DXF, PDF, растр) из кода. *см. Rule 1.1.*
2. **Prompt:** Перенести логику генерации подписей и обозначений ЗУ/точек в отдельный модуль `labels.ts`. *см. Rule 2.1, 2.2.*
3. **Prompt:** Создать enum `ParcelStatus` (`Existing`, `New`, `Removed` и т.д.), `PointStatus`, `BoundaryStatus`, `OperationType` по стандарту. Использовать их во всём коде. *см. Rule 3.1.*
4. **Prompt:** Нормализовать формирование легенды: вынести её сбор в отдельный компонент, обеспечить единый стиль. Легенда должна брать символы из `labels.ts`. *см. Rule 2.5, 4.4.*
5. **Prompt:** Унифицировать названия выходных HTML-файлов и шаблонов согласно единому стандарту (например, `SGP.html`, `CH.html`). *см. Rule 1.2.*
6. **Prompt:** Заменить прямой доступ к координатам на чтение через JSON-контракт/БД. Убрать жёсткое кодирование координат в коде. *см. Rule 6.1.*
7. **Prompt:** Реализовать автогенерацию легенды: алгоритм должен автоматически включать в легенду все условные знаки, применённые на листе. *см. Rule 2.5, 4.4.*
8. **Prompt:** Реализовать алгоритм масштабирования: проверять размер шрифта (>=7 pt) и изменять масштаб, чтобы все надписи оставались читаемыми. *см. Rule 2.4, 5.1.*
9. **Prompt:** Реализовать разбиение чертежа по листам при превышении формата A3. Обеспечить формирование врезок/выносок между листами. *см. Rule 2.4, 5.2.*
10. **Prompt:** Написать snapshot-тесты SVG для типовых операций (раздел, объединение и т.д.). Проверять, что выходной SVG содержит все обязательные элементы. *см. Rule 7.1.*
